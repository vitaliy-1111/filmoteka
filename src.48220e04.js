parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"clu1":[function(require,module,exports) {

},{"./../images/home-bg-320-1x-min.jpg":[["home-bg-320-1x-min.af8cb03f.jpg","OYs0"],"OYs0"],"./../images/home-bg-320-2x-min.jpg":[["home-bg-320-2x-min.52db1ef7.jpg","oNHL"],"oNHL"],"./../images/home-bg-768-1x-min.jpg":[["home-bg-768-1x-min.4ef3f3d7.jpg","zu4t"],"zu4t"],"./../images/home-bg-768-2x-min.jpg":[["home-bg-768-2x-min.695b6a87.jpg","ItOb"],"ItOb"],"./../images/home-bg-1024-1x-min.jpg":[["home-bg-1024-1x-min.973645b0.jpg","V80p"],"V80p"],"./../images/home-bg-1024-2x-min.jpg":[["home-bg-1024-2x-min.b119d062.jpg","HOsS"],"HOsS"],"./../images/library-bg-320-1x-min.jpg":[["library-bg-320-1x-min.a9592d42.jpg","YuwI"],"YuwI"],"./../images/library-bg-320-2x-min.jpg":[["library-bg-320-2x-min.67437679.jpg","oylv"],"oylv"],"./../images/library-bg-768-1x-min.jpg":[["library-bg-768-1x-min.e75733f7.jpg","LeCs"],"LeCs"],"./../images/library-bg-768-2x-min.jpg":[["library-bg-768-2x-min.c572c696.jpg","hbUO"],"hbUO"],"./../images/library-bg-1024-1x-min.jpg":[["library-bg-1024-1x-min.60711cfe.jpg","LqdB"],"LqdB"],"./../images/library-bg-1024-2x-min.jpg":[["library-bg-1024-2x-min.3375d1fb.jpg","UNNn"],"UNNn"]}],"jRvc":[function(require,module,exports) {

},{}],"pQa5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.genreIdToName=n,exports.movieGenre=void 0;const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function n(e,n){const i=[];return e.map(e=>{for(const a of n)a.id===e&&i.push(a.name)}),i.join(" ")}exports.movieGenre=e;
},{}],"VyiV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.refs=void 0;const e={homePageLinkEl:document.querySelector("a.home-link"),libraryPageLinkEl:document.querySelector("a.library-link"),headerEl:document.querySelector("header.page-header"),body:document.querySelector("body"),textSearchResult:document.querySelector("p.search-result-text"),nav:document.querySelector("nav.nav"),searhFormEl:document.querySelector("form.search-form"),gallery:document.querySelector(".cinema-gallery"),galleryListEl:document.querySelector(".cinema-gallery__list"),modalMovie:document.querySelector(".modal-movie"),openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),queueButtonEl:document.querySelector(".button-queue"),watchedButtonEl:document.querySelector(".button-watched")};exports.refs=e;
},{}],"o8lo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.paginationMovies=t,exports.paginationSearchMovies=n;var e=require("./refs.js");function t(){const t=new Pagination("#tui-pagination-container",{totalItems:0,itemPerPage:20,visiblePages:5,page:1});function n(e){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=c54b9b3bc824900bd0fc655039f09ff1&page=${e}`).then(e=>e.json())}function a(t){console.log("render"),console.log(t);const n=t.results.map(e=>`<li class="cinema-gallery__item">\n        <div class="thumb-img">\n          <img class="cinema-gallery__img img" src="https://image.tmdb.org/t/p/w500${e.poster_path||e.backdrop_path}" id="${e.id}" loading="lazy">\n           <div class="button-wrap">\n            <button class="button button-watched" id="${e.id}">Watched</button>\n            <button class="button button-queue" id="${e.id}">Queue</button>\n              <button class="button button-delete" id="${e.id}">delete</button>\n          </div>\n        </div>\n        <div class="thumb-text">\n          <p class="cinema-gallery__name">${e.name||e.title}</p>\n          <p class="cinema-gallery__text">${e.genre_ids} | ${e.release_date||e.first_air_date||" "}</p>\n        </div></li>\n        `);e.refs.galleryListEl.innerHTML=n.join("")}n(t.getCurrentPage()).then(e=>{console.log(e),t.reset(e.total_pages),a(e),console.log(e)}),t.on("afterMove",e=>{n(e.page).then(e=>a(e))})}function n(t){const n=new Pagination("#tui-pagination-container",{totalItems:0,itemPerPage:20,visiblePages:5,page:1}),a=n.getCurrentPage(),i=t;function o(e){return fetch(`https://api.themoviedb.org/3/search/movie?api_key=c54b9b3bc824900bd0fc655039f09ff1&language=en-US&query=${i}&page=${e}&include_adult=false`).then(e=>e.json())}function s(t){console.log("render"),console.log(t);const n=t.results.map(e=>`<li class="cinema-gallery__item">\n        <div class="thumb-img">\n          <img class="cinema-gallery__img img" src="https://image.tmdb.org/t/p/w500${e.poster_path||e.backdrop_path}" id="${e.id}" loading="lazy">\n           <div class="button-wrap">\n            <button class="button button-watched" id="${e.id}">Watched</button>\n            <button class="button button-queue" id="${e.id}">Queue</button>\n             <button class="button button-delete" id="${e.id}">Delete</button>\n          </div>\n        </div>\n        <div class="thumb-text">\n          <p class="cinema-gallery__name">${e.name||e.title}</p>\n          <p class="cinema-gallery__text">${e.genre_ids} | ${e.release_date||e.first_air_date||" "}</p>\n        </div></li>\n        `);e.refs.galleryListEl.innerHTML=n.join("")}o(a).then(e=>{console.log(e),n.reset(e.total_pages),s(e),console.log(e)}),n.on("afterMove",e=>{o(e.page).then(e=>s(e))})}
},{"./refs.js":"VyiV"}],"spyz":[function(require,module,exports) {
"use strict";function e(e){return fetch(`https://api.themoviedb.org/3/search/movie?api_key=c54b9b3bc824900bd0fc655039f09ff1&language=en-US&query=${e}&page=1&include_adult=false`).then(e=>e.json())}function t(e){return fetch(`https://api.themoviedb.org/3/trending/${e}/day?api_key=c54b9b3bc824900bd0fc655039f09ff1`).then(e=>e.json())}function f(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=c54b9b3bc824900bd0fc655039f09ff1&language=en-US`).then(e=>e.json())}function n(e){return fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=c54b9b3bc824900bd0fc655039f09ff1&language=en-US`).then(e=>e.json())}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchMoviesByQuery=e,exports.fetchMoviesByMedia=t,exports.fetchMovieById=f,exports.fetchMovieDetails=n;
},{}],"PZFh":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],e="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,v=a||s||Function("return this")(),l=Object.prototype,p=l.toString,b=Math.max,m=Math.min,y=function(){return v.Date.now()};function d(t,n,r){var i,o,u,f,c,a,s=0,v=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError(e);function d(e){var n=i,r=o;return i=o=void 0,s=e,f=t.apply(r,n)}function g(t){var e=t-a;return void 0===a||e>=n||e<0||l&&t-s>=u}function O(){var t=y();if(g(t))return x(t);c=setTimeout(O,function(t){var e=n-(t-a);return l?m(e,u-(t-s)):e}(t))}function x(t){return c=void 0,p&&i?d(t):(i=o=void 0,f)}function T(){var t=y(),e=g(t);if(i=arguments,o=this,a=t,e){if(void 0===c)return function(t){return s=t,c=setTimeout(O,n),v?d(t):f}(a);if(l)return c=setTimeout(O,n),d(a)}return void 0===c&&(c=setTimeout(O,n)),f}return n=h(n)||0,j(r)&&(v=!!r.leading,u=(l="maxWait"in r)?b(h(r.maxWait)||0,n):u,p="trailing"in r?!!r.trailing:p),T.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=a=o=c=void 0},T.flush=function(){return void 0===c?f:x(y())},T}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){return!!t&&"object"==typeof t}function O(t){return"symbol"==typeof t||g(t)&&p.call(t)==r}function h(t){if("number"==typeof t)return t;if(O(t))return n;if(j(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=j(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var r=u.test(t);return r||f.test(t)?c(t.slice(2),r?2:8):o.test(t)?n:+t}module.exports=d;
},{}],"CwqI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modalMovie=exports.libraryPage=exports.homePage=void 0;const t='<form class="search-form">\n      <input class="search-form__input" placeholder="Search films"></input>\n      <button class="search-form__button" type="submit">\n        <svg class="icon-search" width="12" height="12">\n          <use href="./src/images/icons.svg#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n    <p class="visually-hidden search-result-text">\n      Search result not successful. Enter the correct movie name and try\n      again\n    </p>';exports.homePage=t;const e='\n    <button class="button library-button library-button--active library-button--watched">Watched</button>\n    <button class="button library-button--queue">Queue</button>\n    <p class="visually-hidden search-result-text">\n      Search result not successful. Enter the correct movie name and try\n      again\n    </p>\n  ';exports.libraryPage=e;const s='<div class="modal-movie">\n  <div class="modal-movie__container">\n    <div class="modal-movie__img-thumb">\n      <img src="" alt="title">\n    </div>\n    <div class="modal-movie__text-wrap">\n      <h2 class="movie-title">Title</h2>\n      <p class="info-title">title<span class="info-text">info</span></p>\n      <p class="info-title">title<span class="info-text">info</span></p>\n      <p class="info-title">title<span class="info-text">info</span></p>\n      <p class="info-title">title<span class="info-text">info</span></p>\n      <h3 class="modal-movie__about">About</h3>\n      <p class="about-text">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Voluptates, molestiae pariatur,\n        ex magni harum a reiciendis corporis laborum veritatis iste praesentium veniam quam quasi, fugit aspernatur\n        quibusdam architecto ut? Pariatur natus ullam,\n        debitis eligendi facilis illum voluptate fuga quisquam officiis cum dolores omnis porro, voluptates voluptatibus\n        amet iure doloremque necessitatibus.\n      </p>\n      <div class="modal-movie__button-wrap">\n        <button class="modal-movie__button button button-watched">Watched</button>\n        <button class="modal-movie__button button button-queue">Queue</button>\n      </div>\n    </div>\n  </div>';exports.modalMovie=s;
},{}],"Barx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderHomeGallery=a,exports.renderLibraryGallery=n,exports.renderEmptyGallery=i,exports.renderModalMovie=s;var e=require("./refs.js"),t=require("./genres.js");function a(a){const n=a.map(e=>{const a=(0,t.genreIdToName)(e.genre_ids,t.movieGenre);return`<li class="cinema-gallery__item">\n        <div class="thumb-img">\n          <img class="cinema-gallery__img img" src="https://image.tmdb.org/t/p/w500${e.poster_path}" id="${e.id}" loading="lazy data-modal-open">\n        \n        </div>\n        <div class="thumb-text">\n          <p class="cinema-gallery__name">${e.name||e.title}</p>\n          <p class="cinema-gallery__text">${a} | ${e.release_date||e.first_air_date||" "}</p>\n        </div>`});e.refs.galleryListEl.innerHTML=n.join("")}function n(t){const a=t.map(e=>`<li class="cinema-gallery__item">\n        <div class="thumb-img">\n          <img class="cinema-gallery__img img" src="https://image.tmdb.org/t/p/w500${e.poster_path}" id="${e.id}" loading="lazy data-modal-open">\n        \n        </div>\n        <div class="thumb-text">\n          <p class="cinema-gallery__name">${e.name||e.title}</p>\n          <p class="cinema-gallery__text">${e.genres.map(e=>e.name)} | ${e.release_date||e.first_air_date||" "}</p>\n        </div>`);e.refs.galleryListEl.innerHTML=a.join("")}function i(){e.refs.galleryListEl.innerHTML='<li class="cinema-gallery__item">Empty LocalStorage</li>'}function s(t){const a=`<div class="modal-movie__container">\n        <div class="modal-movie__img-thumb">\n          <img src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="title" id="${t.id}">\n        </div>\n        <div class="modal-movie__text-wrap">\n          <h2 class="movie-title">${t.title}</h2>\n          <p class="info-title">Vote / Votes<span class="info-text">${t.vote_average} / ${t.vote_count}</span></p>\n          <p class="info-title">Popularity<span class="info-text">${t.popularity}</span></p>\n          <p class="info-title">Original Title<span class="info-text">${t.original_title}</span></p>\n          <p class="info-title">Jenre<span class="info-text">${t.genres.map(e=>e.name)}</span></p>\n          <h3 class="modal-movie__about">About</h3>\n          <p class="about-text">${t.overview}\n          </p>\n          <div class="modal-movie__button-wrap">\n            <button class="modal-movie__button button button-watched  id="${t.id}">Watched</button>\n            <button class="modal-movie__button button button-queue  id="${t.id}">Queue</button>\n          </div>\n        </div>`;e.refs.modalMovie.innerHTML=a}
},{"./refs.js":"VyiV","./genres.js":"pQa5"}],"RSqK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.modalOpen=d;var e=require("./refs.js"),s=require("./fetch.js");function d(){e.refs.closeModalBtn.addEventListener("click",function(){e.refs.modal.classList.add("is-hidden"),e.refs.modal.classList.add("backdrop--is-hidden"),document.querySelector("body").style.overflow="auto"})}
},{"./refs.js":"VyiV","./fetch.js":"spyz"}],"Focm":[function(require,module,exports) {
"use strict";require("./sass/main.scss"),require("basiclightbox/dist/basicLightbox.min.css");var e=require("./js/genres.js"),t=require("./js/pagination.js"),r=require("./js/fetch.js"),a=n(require("lodash.debounce")),l=require("./js/template.js"),s=require("./js/refs.js"),o=require("./js/render.js"),i=require("./js/modal.js");function n(e){return e&&e.__esModule?e:{default:e}}let c=[],u=[];function d(e){console.log(e.target.value);const t=e.target.value;(0,r.fetchMoviesByQuery)(t).then(e=>{const t=e.results;(0,o.renderHomeGallery)(t)})}function g(e){const t=e;(0,r.fetchMoviesByMedia)(t).then(e=>{console.log(e);const t=e.results;(0,o.renderHomeGallery)(t)})}function m(e){e.preventDefault(),document.querySelector("header").classList.remove("page-header--library"),s.refs.libraryPageLinkEl.classList.remove("library-link--current"),s.refs.homePageLinkEl.classList.add("home-link--current"),s.refs.searhFormEl.innerHTML=l.homePage,g("movie")}function y(e){e.preventDefault(),document.querySelector("header").classList.add("page-header--library"),s.refs.homePageLinkEl.classList.remove("home-link--current"),s.refs.libraryPageLinkEl.classList.add("library-link--current"),s.refs.searhFormEl.innerHTML=l.libraryPage;const t=JSON.parse(localStorage.getItem("watchedList"));console.log(t),null===t?(0,o.renderEmptyGallery)():(0,o.renderLibraryGallery)(t),document.querySelector(".library-button--watched").addEventListener("click",L),document.querySelector(".library-button--queue").addEventListener("click",h)}function L(){console.log("it's work, wathed"),document.querySelector(".library-button--queue").classList.remove("library-button--active"),document.querySelector(".library-button--watched").classList.add("library-button--active");const e=JSON.parse(localStorage.getItem("watchedList"));null===e?(0,o.renderEmptyGallery)():(0,o.renderLibraryGallery)(e,"watched")}function h(){console.log("queue"),document.querySelector(".library-button--queue").classList.add("library-button--active"),document.querySelector(".library-button--watched").classList.remove("library-button--active");const e=JSON.parse(localStorage.getItem("queueList"));null===e?(0,o.renderEmptyGallery)():(0,o.renderLibraryGallery)(e,"queue")}function f(e){if(e.preventDefault(),e.target.classList.contains("button-watched-delete")){let t=JSON.parse(localStorage.getItem("watchedList"));t=t.filter(t=>t.id!=e.target.id),localStorage.setItem("watchedList",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("watchedList"))}if(e.target.classList.contains("button-queue-delete")){let t=JSON.parse(localStorage.getItem("queueList"));t=t.filter(t=>t.id!=e.target.id),localStorage.setItem("queueList",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("queueList"))}e.target.classList.contains("cinema-gallery__img")&&(console.log("img"),console.log(e.target.id),(0,r.fetchMovieDetails)(e.target.id).then(t=>{console.log(t),(0,o.renderModalMovie)(t),s.refs.modal.classList.toggle("is-hidden"),s.refs.modal.classList.toggle("backdrop--is-hidden"),document.querySelector("body").style.overflow="hidden",document.body.addEventListener("click",function(t){if(t.target.classList.contains("button-queue")){console.log("yes queue");const t=JSON.parse(localStorage.getItem("queueList"));null===t||(u=[...t]),u.find(t=>t.id==e.target.id)||(0,r.fetchMovieById)(e.target.id).then(e=>{u.push(e),localStorage.setItem("queueList",JSON.stringify(u))})}if(t.target.classList.contains("button-watched")){console.log("yes wathed"),console.log(JSON.parse(localStorage.getItem("watchedList")));const t=JSON.parse(localStorage.getItem("watchedList"));null===t||(c=[...t]),c.find(t=>t.id==e.target.id)||(0,r.fetchMovieById)(e.target.id).then(e=>{c.push(e),localStorage.setItem("watchedList",JSON.stringify(c))})}}),(0,i.modalOpen)(e.target.id)}).then(console.log))}s.refs.libraryPageLinkEl.addEventListener("click",y),s.refs.homePageLinkEl.addEventListener("click",m),s.refs.searhFormEl.addEventListener("input",(0,a.default)(d,1e3)),g("movie"),document.querySelector("body").addEventListener("click",f),localStorage.removeItem("watchedList"),localStorage.removeItem("queueList");
},{"./sass/main.scss":"clu1","basiclightbox/dist/basicLightbox.min.css":"jRvc","./js/genres.js":"pQa5","./js/pagination.js":"o8lo","./js/fetch.js":"spyz","lodash.debounce":"PZFh","./js/template.js":"CwqI","./js/refs.js":"VyiV","./js/render.js":"Barx","./js/modal.js":"RSqK"}]},{},["Focm"], null)
//# sourceMappingURL=/filmoteka/src.48220e04.js.map