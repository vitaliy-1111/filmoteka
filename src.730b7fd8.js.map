{"version":3,"sources":["index.js"],"names":["homePage","libraryPage","genre","id","name","refs","homePageLinkEl","document","querySelector","libraryPageLinkEl","headerEl","body","textSearchResult","nav","searhFormEl","gallery","galleryListEl","addEventListener","onLibraryPageLinkEl","onHomePageLinkEl","movies","moviesList","fetchMovie","media","fetch","then","resp","json","console","log","results","listMovies","map","movie","poster_path","title","genre_ids","release_date","first_air_date","innerHTML","join","e","preventDefault","classList","add","remove","localMovies","JSON","parse","localStorage","getItem","genres","onBody","target","currentTarget","className","contains","push","setItem","stringify"],"mappings":"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","file":"src.730b7fd8.js","sourceRoot":"../src","sourcesContent":["\nimport './sass/main.scss';\n// import './js/filmoteka.js';\nconst homePage = `<form class=\"search-form\">\n      <input class=\"search-form__input\" placeholder=\"Search films\"></input>\n      <button class=\"search-form__button\" type=\"submit\">\n        <svg class=\"icon-search\" width=\"12\" height=\"12\">\n          <use href=\"./images/icons.svg#icon-search\"></use>\n        </svg>\n      </button>\n    </form>\n    <p class=\"visually-hidden search-result-text\">\n      Search result not successful. Enter the correct movie name and try\n      again\n    </p>`;\nconst libraryPage = `\n    <button class=\"button library-button\">Watched</button>\n    <button class=\"button library-button\">Queue</button>\n    <p class=\"visually-hidden search-result-text\">\n      Search result not successful. Enter the correct movie name and try\n      again\n    </p>\n  `;\nconst genre = [\n{id: 28, name: 'Action'},\n{id: 12, name: 'Adventure'},\n{id: 16, name: 'Animation'},\n{id: 35, name: 'Comedy'},\n{id: 80, name: 'Crime'},\n{id: 99, name: 'Documentary'},\n{id: 18, name: 'Drama'},\n{id: 10751, name: 'Family'},\n{id: 14, name: 'Fantasy'},\n{id: 36, name: 'History'},\n{id: 27, name: 'Horror'},\n{id: 10402, name: 'Music'},\n{id: 9648, name: 'Mystery'},\n{id: 10749, name: 'Romance'},\n{id: 878, name: 'Science Fiction'},\n{id: 10770, name: 'TV Movie'},\n{id: 53, name: 'Thriller'},\n{id: 10752, name: 'War'},\n{id: 37, name: 'Western'},\n]\n\nconst refs = {\n  homePageLinkEl: document.querySelector(\"a.home-link\"),\n  libraryPageLinkEl: document.querySelector(\"a.library-link\"),\n  headerEl: document.querySelector(\"header.page-header\"),\n  body: document.querySelector(\"body\"),\n  textSearchResult: document.querySelector(\"p.search-result-text\"),\n  nav: document.querySelector(\"nav.nav\"),\n  searhFormEl: document.querySelector(\"form.search-form\"),\n  gallery: document.querySelector(\".cinema-gallery\"),\n  galleryListEl: document.querySelector(\".cinema-gallery__list\"),  \n}\nrefs.libraryPageLinkEl.addEventListener(\"click\", onLibraryPageLinkEl);\nrefs.homePageLinkEl.addEventListener(\"click\", onHomePageLinkEl);\n\n\n// refs.textSearchResult.classList.add(\"visually-hidden\");\nconst movies = [];\nconst moviesList = [];\n\nfetchMovie(\"movie\");\n\nfunction fetchMovie(media) {\n  // fetch(\"https://api.themoviedb.org/3/trending/all/day?api_key=c54b9b3bc824900bd0fc655039f09ff1\").then(resp => resp.json()).then(console.log);\n  fetch(`https://api.themoviedb.org/3/trending/${media}/day?api_key=c54b9b3bc824900bd0fc655039f09ff1`).then(resp => resp.json()).then(resp => {\n    console.log(resp);\n    console.log(resp.results);\n    const listMovies = resp.results;\n    const gallery = listMovies.map(movie => `<li class=\"cinema-gallery__item\">\n        <div class=\"thumb-img\">\n          <img class=\"cinema-gallery__img img\" src=\" https://image.tmdb.org/t/p/w500${movie.poster_path}\" id=\"${movie.id}\">\n\n        </div>\n        <div class=\"thumb-text\">\n          <p class=\"cinema-gallery__name\">${movie.name || movie.title}</p>\n          <p class=\"cinema-gallery__text\">${movie.genre_ids } | ${movie.release_date || movie.first_air_date}</p>\n        </div>`);\n    \n    refs.galleryListEl.innerHTML = gallery.join(\"\");\n  })\n  }\n\nfunction onLibraryPageLinkEl(e) {\n  e.preventDefault();\n  document.querySelector(\"header\").classList.add(\"page-header--library\");\n  refs.homePageLinkEl.classList.remove(\"home-link--current\");\n  refs.libraryPageLinkEl.classList.add(\"library-link--current\"); \n  refs.searhFormEl.innerHTML = libraryPage;\n\n  //  fetch(`https://api.themoviedb.org/3/trending/tv/day?api_key=c54b9b3bc824900bd0fc655039f09ff1`).then(resp => resp.json()).then(resp => {\n  //   console.log(resp);\n  //   console.log(resp.results);\n  //   const listMovies = resp.results;\n  //   const gallery = listMovies.map(movie => `<li class=\"cinema-gallery__item\">\n  //       <div class=\"thumb-img\">\n  //         <img class=\"cinema-gallery__img img\" src=\" https://image.tmdb.org/t/p/w500${movie.poster_path}\" id=\"${movie.id}\">\n\n  //       </div>\n  //       <div class=\"thumb-text\">\n  //         <p class=\"cinema-gallery__name\">${movie.name || movie.title}</p>\n  //         <p class=\"cinema-gallery__text\">${movie.genre_ids } | ${movie.release_date || movie.first_air_date}</p>\n  //       </div>`);\n    \n  //   refs.galleryListEl.innerHTML = gallery.join(\"\");\n  // })\n  const localMovies = JSON.parse(localStorage.getItem(\"moviesList\"));\n  console.log(localMovies);\n   const gallery = localMovies.map(movie => `<li class=\"cinema-gallery__item\">\n       <div class=\"thumb-img\">\n      <img class=\"cinema-gallery__img img\" src=\" https://image.tmdb.org/t/p/w500${movie.poster_path}\" id=\"${movie.id}\">\n\n     </div>\n     <div class=\"thumb-text\">\n          <p class=\"cinema-gallery__name\">${movie.name || movie.title}</p>\n         <p class=\"cinema-gallery__text\">${movie.genres.map(genre => genre.name) } | ${movie.release_date || movie.first_air_date}</p>\n        </div>`);\n    \n    refs.galleryListEl.innerHTML = gallery.join(\"\");\n\n\n}\n\nfunction onHomePageLinkEl(e) {\n  e.preventDefault();\n  document.querySelector(\"header\").classList.remove(\"page-header--library\")\n  refs.libraryPageLinkEl.classList.remove(\"library-link--current\")\n  refs.homePageLinkEl.classList.add(\"home-link--current\")\n  refs.searhFormEl.innerHTML = homePage;\n  fetchMovie(\"movie\")\n}\n\ndocument.querySelector(\"body\").addEventListener(\"click\", onBody);\nfunction onBody(e) {\n  console.log(\"target:\", e.target);\n  console.log(\"currentTarget\", e.currentTarget)\n  console.log(e.target.className)\n\n  if (e.target.classList.contains(\"cinema-gallery__img\")){\n    console.log(\"yes\")\n    movies.push( e.target.id)\n    localStorage.setItem(\"movies\", movies);\n    \n    console.log(movies);\n    fetch(`https://api.themoviedb.org/3/movie/${e.target.id}?api_key=c54b9b3bc824900bd0fc655039f09ff1&language=en-US`).then(resp => resp.json()).then(resp => {\n      console.log(resp);\n      const { title, id } = resp;\n      // console.log(resp.results);\n      const cinemaList = {title, id};\n      moviesList.push(resp);\n\n      localStorage.setItem(\"moviesList\", JSON.stringify(moviesList));\n    })\n\n    \n  }\n}\nconsole.log(movies)\n// import fetch from \"./js/filmoteka.js\";\n\n// fetch();"]}